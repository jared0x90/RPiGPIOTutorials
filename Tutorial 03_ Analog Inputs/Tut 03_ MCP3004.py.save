# Python Code to communicate with MCP3004, although it doesn't really work :/

import spidev

spi = spidev.SpiDev()
spi.open(0,0)

def get_adc(channel):
    if((channel > 3) or (channel < 0)):
        return -1

    r = spi.xfer([1, (8+channel)<<4, 0])
    adcout = ((r[1]&3) << 8) + r[2]
    return adcout


while True:
    print get_adc(0)
